body{

  display: flex;
  flex-direction: column;

  & > *:not(.main-footer, .main-header, #blueimp-gallery) {
    margin: var(--fluid-space-m);
  }

  main{
    flex-grow: 2;
  }
}

main, aside{
  padding-bottom: var(--fluid-space-l);
}

section{
  padding-bottom: var(--fluid-space-m);
  position: relative;

  &.is-loose{
    padding-bottom: var(--fluid-space-xl);
  }
}

table{
  max-width: var(--max-width-table);
}

/* Aside
############################################################################ */

@media screen and (min-width: 160ch){
  main:has(#page-navigation){
    display: grid;
    grid-template-columns: 1fr var(--max-width-aside);
    grid-template-areas: 
      "content toc"
      "content toc";
    gap: var(--fluid-space-m);
    

    #page-navigation{
      grid-area: toc;
      padding-right: var(--xl);
      font-size: var(--s);
      max-width: var(--max-width-aside);

      nav{
        position: sticky;
        top: calc(var(--fluid-space-l) * 1.5);
      }
    }
  }
}

